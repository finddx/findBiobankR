---
title: "Open-Specimen-API"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{open-specimen-api}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(findBiobankR)
```

<!-- WARNING - This vignette is generated by {fusen} from dev/OpenSpecimenAPI.Rmd: do not edit by hand -->

# auth_os

```{r example-auth_os, eval = FALSE}

# os_test_url <- Sys.getenv("OSTESTURL")
# os_test_username <- Sys.getenv("OSUSERNAME")
# os_test_password <- Sys.getenv("OSPASSWORDTEST")
# 
# auth_repo <- auth_os(url = os_test_url,
#                      username = os_test_username,
#                      password = os_test_password)

```

# timestamp_to_date

```{r example-timestamp_to_date}

timestamps <- c("1625068800000", "1625068801000", "1625068802000")
converted_timestamps <- timestamp_to_date(timestamps)
converted_timestamps

timestamps_numeric <- c(1625068800000, 1625068801000, 1625068802000)
converted_timestamps_numeric <- timestamp_to_date(timestamps_numeric)
converted_timestamps_numeric
timestamps_with_specials <- c("1625068800000", "2021-07-01 00:00:00", "1625068800/1000")
timestamps_with_specials <- c("1625068800000", "2021-07-01 00:00:00", "1625068800/1000")
timestamps_with_specials
# Example 2: Convert timestamp columns in a data frame
df <- data.frame(id = c(1, 2, 3),
                 event_date = c(1637892323000, 1637892423000, 1637892523000))


timestamp_to_date(df)

df
```

# parse_os_response

```{r example-parse_os_response}
#parse_os_response()
```

# parse_data

```{r example-parse_data}
#parse_data()
```

# get_os_query

```{r example-get_os_query, eval = FALSE}

# os_test_url <- Sys.getenv("OSTESTURL")
# os_test_username <- Sys.getenv("OSUSERNAME")
# os_test_password <- Sys.getenv("OSPASSWORDTEST")
# 
# auth_repo <- auth_os(url = os_test_url,
#                      username = os_test_username,
#                      password = os_test_password)
# 
# get_os_query(auth_repo, query_id = 114,
#              driving_form = "Specimen",
#              wide_row_mode = "OFF",
#              start_at = 0,
#              max_results = 5)
```

# get_bulk_query

```{r example-get_bulk_query, eval = FALSE}


# auth_response <- auth_os(url =  Sys.getenv("OSTESTURL"),
#                          username = Sys.getenv("OSUSERNAME"),
#                          password = Sys.getenv("OSPASSWORDTEST"))
# 
# 
# cv_samples <- get_bulk_query(auth_response, query_id = 105)
#   
# 
# cv_samples[1:5]
```

# parse_os_order_data

```{r example-parse_os_order_data}
#parse_os_order_data()
```

# get_orders

```{r example-get_orders}
#get_orders()
```

# get_bulk_orders

```{r example-get_bulk_orders}
#get_bulk_orders()
```

# parse_order_detail_data

```{r example-parse_order_detail_data}

# order_detail <- parse_order_detail_data(response)

```

# get_order_detail

```{r example-get_order_detail}
# extract order 392 from os

# df = get_order_detail(auth_response, order_id = 392)

```

# get_bulk_order_detail

```{r example-get_bulk_order_detail}
#get_bulk_order_detail()
```

# parse_os_oder_list

```{r example-parse_os_oder_list}

#parse_os_oder_list(oder_items)

```

# get_order_items

```{r example-get_order_items}
#get_order_items()
```

# parse_all_sites

```{r example-parse_all_sites}
#parse_all_sites()
```

# get_bulk_order_items

```{r example-get_bulk_order_items}
#get_bulk_order_items()
```

# get_all_sites

```{r example-get_all_sites}
#get_all_sites()
```

# parse_site_details

```{r example-parse_site_details}
#parse_site_details()
```

# get_os_site

```{r example-get_os_site}
#get_os_site()
```

# get_bulk_site_details

```{r example-get_bulk_site_details}
#get_bulk_site_details()
```

